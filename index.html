<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LogLegends | Certified Sync</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app-container">
        <div class="top-nav metrics-grid">
            <div class="metric-item"><label>TOTAL (60h)</label><div class="bar-bg"><div id="bar-total" class="bar-fill cyan"></div></div><span id="txt-total">0.0h</span></div>
            <div class="metric-item"><label>NIGHT (10h)</label><div class="bar-bg"><div id="bar-night" class="bar-fill orange"></div></div><span id="txt-night">0.0h</span></div>
            <div class="metric-item"><label>WEEKLY CAP</label><div class="bar-bg"><div id="bar-weekly" class="bar-fill green"></div></div><span id="txt-weekly">0.0h</span></div>
        </div>

        <main id="main-content">
            <section id="page-dashboard" class="page active">
                <div id="map-display"></div>
                <div class="dashboard-panel">
                    <div class="timer-display"><div id="timer">00:00:00</div></div>
                    <div id="checklist-warning" class="warning-box"> Safety Check Required</div>
                    <button id="start-drive-btn" class="action-button" disabled>START DRIVE</button>
                </div>
            </section>

            <section id="page-checklist" class="page">
                <div class="page-header" style="justify-content: space-between; display: flex; width: 100%;">
                    <button class="back-btn" onclick="showPage('dashboard')"> Back</button>
                    <h3>Pre-Drive Safety</h3>
                    <button id="complete-checklist-btn" class="verify-btn">VERIFY</button>
                </div>
                <div id="checklist-items" class="checklist-grid"></div>
            </section>

            <section id="page-profile" class="page">
                <div class="page-header"><h3>Driver Profile</h3></div>
                <div class="profile-card">
                    <div id="g_id_onload" 
                         data-client_id="807592232939-pr256ntaj81m62pggratakrogl43hci8.apps.googleusercontent.com" 
                         data-callback="handleCredentialResponse">
                    </div>
                    <div class="g_id_signin" id="google-login-btn"></div>
                    
                    <div id="sync-status-area" style="display: none; margin-top: 20px; padding: 15px; background: #111; border: 1px solid #333; border-radius: 10px;">
                        <div id="user-info"></div>
                        <p style="font-size: 0.8rem; color: #00e5ff; margin: 10px 0 0 0;"> Cloud Sync Active</p>
                        <p style="font-size: 0.7rem; color: #888;">Backup: <span id="sync-time">...</span></p>
                        <button onclick="localStorage.clear(); location.reload();" class="back-btn" style="margin-top:10px; font-size: 0.6rem;">Logout</button>
                    </div>
                </div>
            </section>
        </main>

        <nav class="bottom-nav">
            <button class="nav-item active" onclick="showPage('dashboard')" id="nav-dash"><span></span>Dash</button>
            <button class="nav-item" onclick="showPage('checklist')" id="nav-check"><span></span>Check</button>
            <button class="nav-item" onclick="showPage('profile')" id="nav-prof"><span></span>Profile</button>
        </nav>
    </div>

    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script type="module" src="app.js"></script>
</body>
</html>
